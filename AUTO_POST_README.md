# ü§ñ AI Auto-Post System

‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢ AI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö GoFiber Backend

---

## üéØ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å

- ‚úÖ **AI Content Generation** - ‡πÉ‡∏ä‡πâ OpenAI GPT ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á
- ‚úÖ **Auto Scheduling** - ‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° cron schedule
- ‚úÖ **Topic-based** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 720+ ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠
- ‚úÖ **5 Tone Styles** - neutral, casual, professional, humorous, controversial
- ‚úÖ **Title Variations** - ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ã‡πâ‡∏≥
- ‚úÖ **Batch Mode** - ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô API 30-40%
- ‚úÖ **Approval Workflow** - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÇ‡∏û‡∏™‡∏ï‡πå

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
- **[AUTO_POST_SETUP_FINAL.md](AUTO_POST_SETUP_FINAL.md)** ‚≠ê **‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô!**
  - Setup ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
  - ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
  - Configuration ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

### üìñ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏Å
- **[AI_AUTO_POST_GUIDE.md](AI_AUTO_POST_GUIDE.md)**
  - ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
  - Flow diagram
  - API endpoints ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  - Troubleshooting

### üîß CSV Import
- **[CSV_IMPORT_QUICKSTART.md](CSV_IMPORT_QUICKSTART.md)**
  - Import topics ‡∏à‡∏≤‡∏Å CSV
  - Step-by-step guide
  - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞ monitor

### ‚ö° Features & Improvements
- **[AI_AUTO_POST_IMPROVEMENTS.md](AI_AUTO_POST_IMPROVEMENTS.md)**
  - Title Variation Generator
  - Batch Mode
  - Approval Workflow
  - Performance comparison
  - Cost analysis

### üìù Topic Preparation
- **[PREPARE_720_TOPICS_GUIDE.md](PREPARE_720_TOPICS_GUIDE.md)**
  - ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° 720 ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠
  - 5 ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡πÜ
  - Best practices
  - Quality check

---

## ‚ö° Quick Start (3 Steps)

### 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Bot User

```bash
curl -X POST http://localhost:3000/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "ai_bot",
    "email": "aibot@example.com",
    "password": "SecurePass123!"
  }'

# ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å UUID ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ
```

### 2. Config .env

```bash
# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô .env
AUTO_POST_BOT_USER_ID=your-bot-user-uuid
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
```

### 3. Import Topics

```bash
# Windows
scripts\setup_auto_post.bat suekk_720_posts.csv

# Linux/Mac
chmod +x scripts/setup_auto_post.sh
./scripts/setup_auto_post.sh suekk_720_posts.csv
```

### 4. Enable & Start

```sql
-- Enable all settings
psql -U postgres -d gofiber_template -c \
  "UPDATE auto_post_settings SET is_enabled = true WHERE bot_user_id = 'YOUR_UUID'::uuid;"
```

```bash
# Restart server
docker-compose restart app
# ‡∏´‡∏£‡∏∑‡∏≠
./bin/api
```

**‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!** üéâ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á

---

## üìÇ ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### Code
```
pkg/ai/openai_service.go                    # OpenAI integration
domain/models/auto_post_setting.go          # Database models
domain/services/auto_post_service.go        # Service interface
application/serviceimpl/auto_post_service_impl.go  # Service implementation
interfaces/api/handlers/auto_post_handler.go       # API handlers
infrastructure/postgres/auto_post_repository_impl.go  # Repository
```

### Scripts
```
scripts/import_csv_to_db.go        # Import CSV ‚Üí Database (Go)
scripts/setup_auto_post.bat        # Setup script (Windows)
scripts/setup_auto_post.sh         # Setup script (Linux/Mac)
scripts/convert_topics_to_json.py  # CSV ‚Üí JSON converter
scripts/import_topics.py           # Import via API
```

### Migrations
```
migrations/018_create_auto_post_tables.sql     # Initial tables
migrations/019_update_auto_post_tables_v2.sql  # Enhanced features
```

---

## üéÆ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

### View Settings

```bash
curl http://localhost:3000/api/v1/auto-post/settings \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### Manual Trigger

```bash
curl -X POST http://localhost:3000/api/v1/auto-post/settings/{SETTING_ID}/trigger \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### View Logs

```bash
curl http://localhost:3000/api/v1/auto-post/settings/{SETTING_ID}/logs \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### Enable/Disable

```bash
# Enable
curl -X POST http://localhost:3000/api/v1/auto-post/settings/{SETTING_ID}/enable \
  -H "Authorization: Bearer YOUR_TOKEN"

# Disable
curl -X POST http://localhost:3000/api/v1/auto-post/settings/{SETTING_ID}/disable \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## üìä Monitor

### View Logs (Database)

```sql
-- ‡∏î‡∏π 10 ‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
SELECT
  topic,
  generated_title,
  status,
  tokens_used,
  created_at
FROM auto_post_logs
ORDER BY created_at DESC
LIMIT 10;
```

### View Statistics

```sql
-- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° tone
SELECT
  setting.tone,
  COUNT(log.id) as total_posts,
  COUNT(CASE WHEN log.status = 'success' THEN 1 END) as success,
  SUM(log.tokens_used) as total_tokens
FROM auto_post_settings setting
LEFT JOIN auto_post_logs log ON log.setting_id = setting.id
GROUP BY setting.tone;
```

---

## ‚öôÔ∏è Configuration

### Cron Schedule Examples

```sql
-- ‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (24 ‡πÇ‡∏û‡∏™‡∏ï‡πå/‡∏ß‡∏±‡∏ô)
UPDATE auto_post_settings SET cron_schedule = '0 * * * *';

-- ‡∏ó‡∏∏‡∏Å 30 ‡∏ô‡∏≤‡∏ó‡∏µ (48 ‡πÇ‡∏û‡∏™‡∏ï‡πå/‡∏ß‡∏±‡∏ô)
UPDATE auto_post_settings SET cron_schedule = '*/30 * * * *';

-- ‡∏ó‡∏∏‡∏Å 2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (12 ‡πÇ‡∏û‡∏™‡∏ï‡πå/‡∏ß‡∏±‡∏ô)
UPDATE auto_post_settings SET cron_schedule = '0 */2 * * *';

-- ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ 9:00-18:00 (10 ‡πÇ‡∏û‡∏™‡∏ï‡πå/‡∏ß‡∏±‡∏ô)
UPDATE auto_post_settings SET cron_schedule = '0 9-18 * * *';
```

### Batch Mode (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥!)

```sql
-- ‡∏™‡∏£‡πâ‡∏≤‡∏á 6 ‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á, ‡∏ó‡∏∏‡∏Å 6 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
UPDATE auto_post_settings
SET
  use_batch_mode = true,
  batch_size = 6,
  cron_schedule = '0 */6 * * *'
WHERE bot_user_id = 'YOUR_UUID'::uuid;

-- ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: 24 ‡πÇ‡∏û‡∏™‡∏ï‡πå/‡∏ß‡∏±‡∏ô, ‡πÄ‡∏û‡∏µ‡∏¢‡∏á 4 API calls (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î 83%)
```

---

## üí∞ Cost Estimation

### Standard Mode (24 posts/day)

```
API Calls:    24 calls/day
Tokens:       ~31,200 tokens/day
Monthly Cost: ~$0.40/month (gpt-4o-mini)
```

### Batch Mode (24 posts/day in 4 batches)

```
API Calls:    4 calls/day
Tokens:       ~24,000 tokens/day
Monthly Cost: ~$0.37/month (gpt-4o-mini)
Save:         ~10%
```

---

## üö® Troubleshooting

### ‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á

```sql
-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö settings
SELECT id, tone, is_enabled FROM auto_post_settings;

-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö errors
SELECT topic, status, error_message
FROM auto_post_logs
WHERE status = 'failed'
ORDER BY created_at DESC
LIMIT 5;
```

### Check Scheduler Logs

```bash
# ‡∏î‡∏π server logs
docker-compose logs -f app | grep "auto-post"

# ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:
# [INFO] Running scheduled job: auto-post-processor
```

---

## üéØ Best Practices

### 1. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö Safe

```
Day 1-2:  Enable 1 setting, monitor
Day 3-5:  Enable 2-3 settings
Week 2:   Enable all if everything works
```

### 2. ‡πÉ‡∏ä‡πâ Batch Mode

```
- ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô 30-40%
- API calls ‡∏•‡∏î‡∏•‡∏á 83%
- ‡∏¢‡∏±‡∏á‡πÑ‡∏î‡πâ‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°
```

### 3. ‡πÄ‡∏õ‡∏¥‡∏î Title Variations

```sql
UPDATE auto_post_settings
SET enable_variations = true;

-- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ã‡πâ‡∏≥, ‡∏î‡∏π‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏Å‡∏ß‡πà‡∏≤
```

### 4. Monitor Regularly

```
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô
- ‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ success/failed rate
- ‡∏õ‡∏£‡∏±‡∏ö schedule ‡∏ï‡∏≤‡∏°‡∏ú‡∏•
```

---

## üìû ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠?

‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:
1. **[AUTO_POST_SETUP_FINAL.md](AUTO_POST_SETUP_FINAL.md)** - Setup & ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
2. **[AI_AUTO_POST_GUIDE.md](AI_AUTO_POST_GUIDE.md)** - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
3. **[CSV_IMPORT_QUICKSTART.md](CSV_IMPORT_QUICKSTART.md)** - CSV Import

---

## üéâ ‡∏™‡∏£‡∏∏‡∏õ

**‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô 100%!**

- ‚úÖ Import CSV ‚Üí Database
- ‚úÖ AI generate content
- ‚úÖ Auto-post ‡∏ï‡∏≤‡∏° schedule
- ‚úÖ Monitor & analytics
- ‚úÖ Cost-efficient

**‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!** üöÄ
